Version 4
SHEET 1 1544 680
WIRE -96 -96 -112 -96
WIRE 0 -96 -16 -96
WIRE 16 -96 0 -96
WIRE 112 -96 96 -96
WIRE -96 16 -112 16
WIRE 0 16 -16 16
WIRE 16 16 0 16
WIRE 112 16 96 16
WIRE 688 64 656 64
WIRE 816 64 768 64
WIRE 1024 80 992 80
WIRE 1152 80 1104 80
WIRE -1312 96 -1312 64
WIRE -528 144 -528 80
WIRE -208 144 -208 80
WIRE 160 144 160 80
WIRE 112 160 96 160
WIRE -560 176 -592 176
WIRE -432 176 -448 176
WIRE -240 176 -272 176
WIRE -96 176 -112 176
WIRE 112 192 96 192
WIRE 288 192 256 192
WIRE 656 192 656 64
WIRE 656 192 608 192
WIRE 704 192 656 192
WIRE -1312 208 -1312 176
WIRE 816 208 816 64
WIRE 816 208 768 208
WIRE 864 208 816 208
WIRE 992 208 992 80
WIRE 992 208 944 208
WIRE 1040 208 992 208
WIRE -528 224 -528 208
WIRE -208 224 -208 208
WIRE 112 224 96 224
WIRE 704 224 672 224
WIRE 1152 224 1152 80
WIRE 1152 224 1104 224
WIRE 1040 240 1008 240
WIRE 736 256 736 240
WIRE 672 272 672 224
WIRE 1072 272 1072 256
WIRE 1008 288 1008 240
WIRE -1280 352 -1280 320
WIRE -1184 352 -1184 320
WIRE -1280 464 -1280 432
WIRE -1184 464 -1184 432
FLAG 112 16 0
FLAG -112 16 Vcc
FLAG 0 16 Vth1
FLAG 112 -96 0
FLAG -112 -96 Vcc
FLAG 0 -96 Vth2
FLAG -528 224 Vee
FLAG -432 176 Vpa
FLAG -592 176 Vin
FLAG -208 224 Vee
FLAG -272 176 Vpa
FLAG -528 80 Vcc
FLAG -208 80 Vcc
FLAG -96 176 Vpd
FLAG 96 160 Vpd
FLAG 96 192 Vth1
FLAG 96 224 Vth2
FLAG 160 80 Vcc
FLAG 288 192 Vc2
FLAG -1280 464 0
FLAG -1184 464 0
FLAG -1280 320 Vcc
FLAG -1184 320 Vee
FLAG -1312 208 0
FLAG -1312 64 Vin
FLAG 672 272 0
FLAG 544 192 Vc2
FLAG 736 176 Vcc
FLAG 736 256 Vee
FLAG 1008 288 0
FLAG 1072 192 Vcc
FLAG 1072 272 Vee
FLAG 1152 224 Vo
SYMBOL res 0 32 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName Rvdl1
SYMATTR Value {Rvdl1}
SYMBOL res -112 32 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName Rvdu1
SYMATTR Value {Rvdu1}
SYMBOL res 0 -80 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName Rvdl2
SYMATTR Value {Rvdl2}
SYMBOL res -112 -80 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName Rvdu2
SYMATTR Value {Rvdu2}
SYMBOL preamp -512 176 R0
SYMATTR InstName preamp1
SYMBOL peakdetector_lab7 -176 176 R0
SYMATTR InstName peak_detector1
SYMBOL delay 176 176 R0
SYMATTR InstName dual_comparator_RC_delay1
SYMBOL voltage -1280 336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 4.5
SYMBOL voltage -1184 336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value -4.5
SYMBOL voltage -1312 80 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PWL file=heartbeat_slow.pwl
SYMBOL OpAmps\\opamp2 736 144 R0
SYMATTR InstName U2
SYMATTR Value LF411C
SYMBOL res 784 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL cap 608 176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 2.2µ
SYMBOL OpAmps\\opamp2 1072 160 R0
SYMATTR InstName U3
SYMATTR Value LF411C
SYMBOL res 1120 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL res 960 192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 10k
TEXT -1520 -24 Left 2 !.include C:\\Users\\User\\Downloads\\ZVN3310A.spice.txt
TEXT -1504 -80 Left 2 !.include C:\\Users\\User\\Downloads\\slcj016\\LM393.5_1
TEXT -1760 -208 Left 2 !.param Rvdu2=100k Rvdl2=100k Rd=2k Cd= 22u Rvdu1=39k Rvdl1=5k Rpdl=56k Cpdl=10u
TEXT -1496 -136 Left 2 !.include C:\\Users\\User\\Downloads\\sloj040\\LF411C.301
TEXT -1432 488 Left 2 !.tran 3
